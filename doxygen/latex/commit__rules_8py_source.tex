\doxysection{commit\+\_\+rules.\+py}
\hypertarget{commit__rules_8py_source}{}\label{commit__rules_8py_source}\index{/home/harrkout/github/Leshan-\/OMA-\/Lightweight-\/M2M-\/server-\/for-\/Zephyr-\//scripts/gitlint/commit\_rules.py@{/home/harrkout/github/Leshan-\/OMA-\/Lightweight-\/M2M-\/server-\/for-\/Zephyr-\//scripts/gitlint/commit\_rules.py}}
\mbox{\hyperlink{commit__rules_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00001}\mbox{\hyperlink{namespacecommit__rules}{00001}}\ \textcolor{comment}{\#\ SPDX-\/License-\/Identifier:\ Apache-\/2.0}}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00003}00003\ \textcolor{keyword}{import}\ re}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00005}00005\ \textcolor{keyword}{from}\ gitlint.rules\ \textcolor{keyword}{import}\ CommitRule,\ RuleViolation}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00008}\mbox{\hyperlink{classcommit__rules_1_1SignedOffBy}{00008}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classcommit__rules_1_1SignedOffBy}{SignedOffBy}}(CommitRule):}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00009}00009\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}\ This\ rule\ will\ enforce\ that\ each\ commit\ contains\ a\ "{}Signed-\/off-\/by"{}\ line.}}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00010}00010\ \textcolor{stringliteral}{\ \ \ \ We\ keep\ things\ simple\ here\ and\ just\ check\ whether\ the\ commit\ body\ contains\ a\ line\ that\ starts\ with\ "{}Signed-\/off-\/by"{}.}}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00011}00011\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00013}00013\ \ \ \ \ \textcolor{comment}{\#\ A\ rule\ MUST\ have\ a\ human\ friendly\ name}}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00014}\mbox{\hyperlink{classcommit__rules_1_1SignedOffBy_ae057a05edfbf71fef52477aeb25af27f}{00014}}\ \ \ \ \ name\ =\ \textcolor{stringliteral}{"{}body-\/requires-\/signed-\/off-\/by"{}}}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00016}00016\ \ \ \ \ \textcolor{comment}{\#\ A\ rule\ MUST\ have\ an\ *unique*\ id,\ we\ recommend\ starting\ with\ UC\ (for\ User-\/defined\ Commit-\/rule).}}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00017}\mbox{\hyperlink{classcommit__rules_1_1SignedOffBy_a98e07f5135b7ead0ee793cb3f56b83ac}{00017}}\ \ \ \ \ id\ =\ \textcolor{stringliteral}{"{}UC1"{}}}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00019}\mbox{\hyperlink{classcommit__rules_1_1SignedOffBy_a7745a88cd84aac153326b4d7d21404be}{00019}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classcommit__rules_1_1SignedOffBy_a7745a88cd84aac153326b4d7d21404be}{validate}}(self,\ commit):}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00020}00020\ \ \ \ \ \ \ \ \ flags\ =\ re.UNICODE}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00021}00021\ \ \ \ \ \ \ \ \ flags\ |=\ re.IGNORECASE}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00022}00022\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ line\ \textcolor{keywordflow}{in}\ commit.message.body:}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00023}00023\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ line.lower().startswith(\textcolor{stringliteral}{"{}signed-\/off-\/by"{}}):}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00024}00024\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ re.search(\textcolor{stringliteral}{r"{}(\string^)Signed-\/off-\/by:\ ([-\/'\(\backslash\)w.]+)\ ([-\/'\(\backslash\)w.]+)\ (.*)"{}},\ line,\ flags=flags):}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00025}\mbox{\hyperlink{classcommit__rules_1_1SignedOffBy_acf2488b95c97e0378c9bf49de3b50f28}{00025}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [RuleViolation(self.\mbox{\hyperlink{classcommit__rules_1_1SignedOffBy_a98e07f5135b7ead0ee793cb3f56b83ac}{id}}\mbox{\hyperlink{classcommit__rules_1_1SignedOffBy_acf2488b95c97e0378c9bf49de3b50f28}{id}},\ \textcolor{stringliteral}{"{}Signed-\/off-\/by:\ must\ have\ a\ full\ name"{}},\ line\_nr=1)]}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00026}00026\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00027}00027\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{\Hypertarget{commit__rules_8py_source_l00028}00028\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [RuleViolation(self.\mbox{\hyperlink{classcommit__rules_1_1SignedOffBy_a98e07f5135b7ead0ee793cb3f56b83ac}{id}}\mbox{\hyperlink{classcommit__rules_1_1SignedOffBy_acf2488b95c97e0378c9bf49de3b50f28}{id}},\ \textcolor{stringliteral}{"{}Body\ does\ not\ contain\ a\ 'Signed-\/off-\/by:'\ line"{}},\ line\_nr=1)]}

\end{DoxyCode}
