\doxysection{/home/harrkout/github/\+Leshan-\/\+OMA-\/\+Lightweight-\/\+M2\+M-\/server-\/for-\/\+Zephyr-\//src/heatshrink/heatshrink\+\_\+decoder.c File Reference}
\hypertarget{heatshrink__decoder_8c}{}\label{heatshrink__decoder_8c}\index{/home/harrkout/github/Leshan-\/OMA-\/Lightweight-\/M2M-\/server-\/for-\/Zephyr-\//src/heatshrink/heatshrink\_decoder.c@{/home/harrkout/github/Leshan-\/OMA-\/Lightweight-\/M2M-\/server-\/for-\/Zephyr-\//src/heatshrink/heatshrink\_decoder.c}}
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include "{}heatshrink\+\_\+decoder.\+h"{}}\newline
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structoutput__info}{output\+\_\+info}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{heatshrink__decoder_8c_a3577749fb48d57a158b8ac1a0b3ab57e}{LOG}}(...)~/\texorpdfstring{$\ast$}{*} no-\/op \texorpdfstring{$\ast$}{*}/
\item 
\#define \mbox{\hyperlink{heatshrink__decoder_8c_ad014a2a071494bbabc34b48eeebadbf3}{ASSERT}}(X)~/\texorpdfstring{$\ast$}{*} no-\/op \texorpdfstring{$\ast$}{*}/
\item 
\#define \mbox{\hyperlink{heatshrink__decoder_8c_a32978f006f6d66afa1e8198dc0d3bf6e}{NO\+\_\+\+BITS}}~((uint16\+\_\+t)-\/1)
\item 
\#define \mbox{\hyperlink{heatshrink__decoder_8c_a5fe0e091a86c60480335dd5ef5c12421}{BACKREF\+\_\+\+COUNT\+\_\+\+BITS}}(HSD)~(\mbox{\hyperlink{heatshrink__decoder_8h_aa86e36935dd90b762e16a029a5e6ab5f}{HEATSHRINK\+\_\+\+DECODER\+\_\+\+LOOKAHEAD\+\_\+\+BITS}}(HSD))
\item 
\#define \mbox{\hyperlink{heatshrink__decoder_8c_a2785b9bc1830313346920a368ed8ecfa}{BACKREF\+\_\+\+INDEX\+\_\+\+BITS}}(HSD)~(\mbox{\hyperlink{heatshrink__decoder_8h_a632b12c05ff21980d815d6c2141b9047}{HEATSHRINK\+\_\+\+DECODER\+\_\+\+WINDOW\+\_\+\+BITS}}(HSD))
\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cc}{HSD\+\_\+state}} \{ \newline
\mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493ccadbcd2f80476e973cd4ea0f5f7767e242}{HSDS\+\_\+\+TAG\+\_\+\+BIT}}
, \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca63b15dbacdc5d7b9d0841980620f470c}{HSDS\+\_\+\+YIELD\+\_\+\+LITERAL}}
, \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca5eff05d0f6159da52ac540b48f9f9671}{HSDS\+\_\+\+BACKREF\+\_\+\+INDEX\+\_\+\+MSB}}
, \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca40355fcc2f506253c8f7e1786f59d225}{HSDS\+\_\+\+BACKREF\+\_\+\+INDEX\+\_\+\+LSB}}
, \newline
\mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca023ca0cc2106d2374e5cab5a63a67bbb}{HSDS\+\_\+\+BACKREF\+\_\+\+COUNT\+\_\+\+MSB}}
, \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca12cbaebe48f454688440cc51efefb500}{HSDS\+\_\+\+BACKREF\+\_\+\+COUNT\+\_\+\+LSB}}
, \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca4ce396d0b6d9c969249aa9df840d9eaf}{HSDS\+\_\+\+YIELD\+\_\+\+BACKREF}}
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{heatshrink__decoder_8c_a66f048d07fb882fce420541f3efe67d1}{heatshrink\+\_\+decoder\+\_\+reset}} (\mbox{\hyperlink{structheatshrink__decoder}{heatshrink\+\_\+decoder}} \texorpdfstring{$\ast$}{*}hsd)
\item 
\mbox{\hyperlink{heatshrink__decoder_8h_a2033fd60c913bbd5493f38529f4c5eeb}{HSD\+\_\+sink\+\_\+res}} \mbox{\hyperlink{heatshrink__decoder_8c_a7c918c86f737484d646de78f0b5116e2}{heatshrink\+\_\+decoder\+\_\+sink}} (\mbox{\hyperlink{structheatshrink__decoder}{heatshrink\+\_\+decoder}} \texorpdfstring{$\ast$}{*}hsd, uint8\+\_\+t \texorpdfstring{$\ast$}{*}in\+\_\+buf, size\+\_\+t size, size\+\_\+t \texorpdfstring{$\ast$}{*}input\+\_\+size)
\item 
\mbox{\hyperlink{heatshrink__decoder_8h_abd574439da270fe6682c4011a8e4a27a}{HSD\+\_\+poll\+\_\+res}} \mbox{\hyperlink{heatshrink__decoder_8c_a38406b03b9df8b993c6a3fa144675627}{heatshrink\+\_\+decoder\+\_\+poll}} (\mbox{\hyperlink{structheatshrink__decoder}{heatshrink\+\_\+decoder}} \texorpdfstring{$\ast$}{*}hsd, uint8\+\_\+t \texorpdfstring{$\ast$}{*}out\+\_\+buf, size\+\_\+t out\+\_\+buf\+\_\+size, size\+\_\+t \texorpdfstring{$\ast$}{*}output\+\_\+size)
\item 
\mbox{\hyperlink{heatshrink__decoder_8h_a053a01631612e6c96c669e0431f996ce}{HSD\+\_\+finish\+\_\+res}} \mbox{\hyperlink{heatshrink__decoder_8c_aac3da3fb98517f7f6121711b0c995616}{heatshrink\+\_\+decoder\+\_\+finish}} (\mbox{\hyperlink{structheatshrink__decoder}{heatshrink\+\_\+decoder}} \texorpdfstring{$\ast$}{*}hsd)
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{heatshrink__decoder_8c_ad014a2a071494bbabc34b48eeebadbf3}\label{heatshrink__decoder_8c_ad014a2a071494bbabc34b48eeebadbf3} 
\index{heatshrink\_decoder.c@{heatshrink\_decoder.c}!ASSERT@{ASSERT}}
\index{ASSERT@{ASSERT}!heatshrink\_decoder.c@{heatshrink\_decoder.c}}
\doxysubsubsection{\texorpdfstring{ASSERT}{ASSERT}}
{\footnotesize\ttfamily \#define ASSERT(\begin{DoxyParamCaption}\item[{}]{X }\end{DoxyParamCaption})~/\texorpdfstring{$\ast$}{*} no-\/op \texorpdfstring{$\ast$}{*}/}



Definition at line \mbox{\hyperlink{heatshrink__decoder_8c_source_l00033}{33}} of file \mbox{\hyperlink{heatshrink__decoder_8c_source}{heatshrink\+\_\+decoder.\+c}}.

\Hypertarget{heatshrink__decoder_8c_a5fe0e091a86c60480335dd5ef5c12421}\label{heatshrink__decoder_8c_a5fe0e091a86c60480335dd5ef5c12421} 
\index{heatshrink\_decoder.c@{heatshrink\_decoder.c}!BACKREF\_COUNT\_BITS@{BACKREF\_COUNT\_BITS}}
\index{BACKREF\_COUNT\_BITS@{BACKREF\_COUNT\_BITS}!heatshrink\_decoder.c@{heatshrink\_decoder.c}}
\doxysubsubsection{\texorpdfstring{BACKREF\_COUNT\_BITS}{BACKREF\_COUNT\_BITS}}
{\footnotesize\ttfamily \#define BACKREF\+\_\+\+COUNT\+\_\+\+BITS(\begin{DoxyParamCaption}\item[{}]{HSD }\end{DoxyParamCaption})~(\mbox{\hyperlink{heatshrink__decoder_8h_aa86e36935dd90b762e16a029a5e6ab5f}{HEATSHRINK\+\_\+\+DECODER\+\_\+\+LOOKAHEAD\+\_\+\+BITS}}(HSD))}



Definition at line \mbox{\hyperlink{heatshrink__decoder_8c_source_l00121}{121}} of file \mbox{\hyperlink{heatshrink__decoder_8c_source}{heatshrink\+\_\+decoder.\+c}}.

\Hypertarget{heatshrink__decoder_8c_a2785b9bc1830313346920a368ed8ecfa}\label{heatshrink__decoder_8c_a2785b9bc1830313346920a368ed8ecfa} 
\index{heatshrink\_decoder.c@{heatshrink\_decoder.c}!BACKREF\_INDEX\_BITS@{BACKREF\_INDEX\_BITS}}
\index{BACKREF\_INDEX\_BITS@{BACKREF\_INDEX\_BITS}!heatshrink\_decoder.c@{heatshrink\_decoder.c}}
\doxysubsubsection{\texorpdfstring{BACKREF\_INDEX\_BITS}{BACKREF\_INDEX\_BITS}}
{\footnotesize\ttfamily \#define BACKREF\+\_\+\+INDEX\+\_\+\+BITS(\begin{DoxyParamCaption}\item[{}]{HSD }\end{DoxyParamCaption})~(\mbox{\hyperlink{heatshrink__decoder_8h_a632b12c05ff21980d815d6c2141b9047}{HEATSHRINK\+\_\+\+DECODER\+\_\+\+WINDOW\+\_\+\+BITS}}(HSD))}



Definition at line \mbox{\hyperlink{heatshrink__decoder_8c_source_l00122}{122}} of file \mbox{\hyperlink{heatshrink__decoder_8c_source}{heatshrink\+\_\+decoder.\+c}}.

\Hypertarget{heatshrink__decoder_8c_a3577749fb48d57a158b8ac1a0b3ab57e}\label{heatshrink__decoder_8c_a3577749fb48d57a158b8ac1a0b3ab57e} 
\index{heatshrink\_decoder.c@{heatshrink\_decoder.c}!LOG@{LOG}}
\index{LOG@{LOG}!heatshrink\_decoder.c@{heatshrink\_decoder.c}}
\doxysubsubsection{\texorpdfstring{LOG}{LOG}}
{\footnotesize\ttfamily \#define LOG(\begin{DoxyParamCaption}\item[{}]{... }\end{DoxyParamCaption})~/\texorpdfstring{$\ast$}{*} no-\/op \texorpdfstring{$\ast$}{*}/}



Definition at line \mbox{\hyperlink{heatshrink__decoder_8c_source_l00032}{32}} of file \mbox{\hyperlink{heatshrink__decoder_8c_source}{heatshrink\+\_\+decoder.\+c}}.

\Hypertarget{heatshrink__decoder_8c_a32978f006f6d66afa1e8198dc0d3bf6e}\label{heatshrink__decoder_8c_a32978f006f6d66afa1e8198dc0d3bf6e} 
\index{heatshrink\_decoder.c@{heatshrink\_decoder.c}!NO\_BITS@{NO\_BITS}}
\index{NO\_BITS@{NO\_BITS}!heatshrink\_decoder.c@{heatshrink\_decoder.c}}
\doxysubsubsection{\texorpdfstring{NO\_BITS}{NO\_BITS}}
{\footnotesize\ttfamily \#define NO\+\_\+\+BITS~((uint16\+\_\+t)-\/1)}



Definition at line \mbox{\hyperlink{heatshrink__decoder_8c_source_l00042}{42}} of file \mbox{\hyperlink{heatshrink__decoder_8c_source}{heatshrink\+\_\+decoder.\+c}}.



\doxysubsection{Enumeration Type Documentation}
\Hypertarget{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cc}\label{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cc} 
\index{heatshrink\_decoder.c@{heatshrink\_decoder.c}!HSD\_state@{HSD\_state}}
\index{HSD\_state@{HSD\_state}!heatshrink\_decoder.c@{heatshrink\_decoder.c}}
\doxysubsubsection{\texorpdfstring{HSD\_state}{HSD\_state}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cc}{HSD\+\_\+state}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{HSDS\_TAG\_BIT@{HSDS\_TAG\_BIT}!heatshrink\_decoder.c@{heatshrink\_decoder.c}}\index{heatshrink\_decoder.c@{heatshrink\_decoder.c}!HSDS\_TAG\_BIT@{HSDS\_TAG\_BIT}}}\Hypertarget{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493ccadbcd2f80476e973cd4ea0f5f7767e242}\label{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493ccadbcd2f80476e973cd4ea0f5f7767e242} 
HSDS\+\_\+\+TAG\+\_\+\+BIT&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{HSDS\_YIELD\_LITERAL@{HSDS\_YIELD\_LITERAL}!heatshrink\_decoder.c@{heatshrink\_decoder.c}}\index{heatshrink\_decoder.c@{heatshrink\_decoder.c}!HSDS\_YIELD\_LITERAL@{HSDS\_YIELD\_LITERAL}}}\Hypertarget{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca63b15dbacdc5d7b9d0841980620f470c}\label{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca63b15dbacdc5d7b9d0841980620f470c} 
HSDS\+\_\+\+YIELD\+\_\+\+LITERAL&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{HSDS\_BACKREF\_INDEX\_MSB@{HSDS\_BACKREF\_INDEX\_MSB}!heatshrink\_decoder.c@{heatshrink\_decoder.c}}\index{heatshrink\_decoder.c@{heatshrink\_decoder.c}!HSDS\_BACKREF\_INDEX\_MSB@{HSDS\_BACKREF\_INDEX\_MSB}}}\Hypertarget{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca5eff05d0f6159da52ac540b48f9f9671}\label{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca5eff05d0f6159da52ac540b48f9f9671} 
HSDS\+\_\+\+BACKREF\+\_\+\+INDEX\+\_\+\+MSB&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{HSDS\_BACKREF\_INDEX\_LSB@{HSDS\_BACKREF\_INDEX\_LSB}!heatshrink\_decoder.c@{heatshrink\_decoder.c}}\index{heatshrink\_decoder.c@{heatshrink\_decoder.c}!HSDS\_BACKREF\_INDEX\_LSB@{HSDS\_BACKREF\_INDEX\_LSB}}}\Hypertarget{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca40355fcc2f506253c8f7e1786f59d225}\label{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca40355fcc2f506253c8f7e1786f59d225} 
HSDS\+\_\+\+BACKREF\+\_\+\+INDEX\+\_\+\+LSB&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{HSDS\_BACKREF\_COUNT\_MSB@{HSDS\_BACKREF\_COUNT\_MSB}!heatshrink\_decoder.c@{heatshrink\_decoder.c}}\index{heatshrink\_decoder.c@{heatshrink\_decoder.c}!HSDS\_BACKREF\_COUNT\_MSB@{HSDS\_BACKREF\_COUNT\_MSB}}}\Hypertarget{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca023ca0cc2106d2374e5cab5a63a67bbb}\label{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca023ca0cc2106d2374e5cab5a63a67bbb} 
HSDS\+\_\+\+BACKREF\+\_\+\+COUNT\+\_\+\+MSB&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{HSDS\_BACKREF\_COUNT\_LSB@{HSDS\_BACKREF\_COUNT\_LSB}!heatshrink\_decoder.c@{heatshrink\_decoder.c}}\index{heatshrink\_decoder.c@{heatshrink\_decoder.c}!HSDS\_BACKREF\_COUNT\_LSB@{HSDS\_BACKREF\_COUNT\_LSB}}}\Hypertarget{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca12cbaebe48f454688440cc51efefb500}\label{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca12cbaebe48f454688440cc51efefb500} 
HSDS\+\_\+\+BACKREF\+\_\+\+COUNT\+\_\+\+LSB&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{HSDS\_YIELD\_BACKREF@{HSDS\_YIELD\_BACKREF}!heatshrink\_decoder.c@{heatshrink\_decoder.c}}\index{heatshrink\_decoder.c@{heatshrink\_decoder.c}!HSDS\_YIELD\_BACKREF@{HSDS\_YIELD\_BACKREF}}}\Hypertarget{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca4ce396d0b6d9c969249aa9df840d9eaf}\label{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca4ce396d0b6d9c969249aa9df840d9eaf} 
HSDS\+\_\+\+YIELD\+\_\+\+BACKREF&\\
\hline

\end{DoxyEnumFields}


Definition at line \mbox{\hyperlink{heatshrink__decoder_8c_source_l00006}{6}} of file \mbox{\hyperlink{heatshrink__decoder_8c_source}{heatshrink\+\_\+decoder.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00006\ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00007\ \ \ \ \ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493ccadbcd2f80476e973cd4ea0f5f7767e242}{HSDS\_TAG\_BIT}},\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ tag\ bit\ */}}
\DoxyCodeLine{00008\ \ \ \ \ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca63b15dbacdc5d7b9d0841980620f470c}{HSDS\_YIELD\_LITERAL}},\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ ready\ to\ yield\ literal\ byte\ */}}
\DoxyCodeLine{00009\ \ \ \ \ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca5eff05d0f6159da52ac540b48f9f9671}{HSDS\_BACKREF\_INDEX\_MSB}},\ \ \ \ \ \textcolor{comment}{/*\ most\ significant\ byte\ of\ index\ */}}
\DoxyCodeLine{00010\ \ \ \ \ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca40355fcc2f506253c8f7e1786f59d225}{HSDS\_BACKREF\_INDEX\_LSB}},\ \ \ \ \ \textcolor{comment}{/*\ least\ significant\ byte\ of\ index\ */}}
\DoxyCodeLine{00011\ \ \ \ \ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca023ca0cc2106d2374e5cab5a63a67bbb}{HSDS\_BACKREF\_COUNT\_MSB}},\ \ \ \ \ \textcolor{comment}{/*\ most\ significant\ byte\ of\ count\ */}}
\DoxyCodeLine{00012\ \ \ \ \ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca12cbaebe48f454688440cc51efefb500}{HSDS\_BACKREF\_COUNT\_LSB}},\ \ \ \ \ \textcolor{comment}{/*\ least\ significant\ byte\ of\ count\ */}}
\DoxyCodeLine{00013\ \ \ \ \ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca4ce396d0b6d9c969249aa9df840d9eaf}{HSDS\_YIELD\_BACKREF}},\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ ready\ to\ yield\ back-\/reference\ */}}
\DoxyCodeLine{00014\ \}\ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cc}{HSD\_state}};}

\end{DoxyCode}


\doxysubsection{Function Documentation}
\Hypertarget{heatshrink__decoder_8c_aac3da3fb98517f7f6121711b0c995616}\label{heatshrink__decoder_8c_aac3da3fb98517f7f6121711b0c995616} 
\index{heatshrink\_decoder.c@{heatshrink\_decoder.c}!heatshrink\_decoder\_finish@{heatshrink\_decoder\_finish}}
\index{heatshrink\_decoder\_finish@{heatshrink\_decoder\_finish}!heatshrink\_decoder.c@{heatshrink\_decoder.c}}
\doxysubsubsection{\texorpdfstring{heatshrink\_decoder\_finish()}{heatshrink\_decoder\_finish()}}
{\footnotesize\ttfamily \mbox{\hyperlink{heatshrink__decoder_8h_a053a01631612e6c96c669e0431f996ce}{HSD\+\_\+finish\+\_\+res}} heatshrink\+\_\+decoder\+\_\+finish (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structheatshrink__decoder}{heatshrink\+\_\+decoder}} \texorpdfstring{$\ast$}{*}}]{hsd }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{heatshrink__decoder_8c_source_l00337}{337}} of file \mbox{\hyperlink{heatshrink__decoder_8c_source}{heatshrink\+\_\+decoder.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00338\ \ \ \ \ \textcolor{keywordflow}{if}\ (hsd\ ==\ NULL)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{heatshrink__decoder_8h_a053a01631612e6c96c669e0431f996cea452a4c121fdea30a5d3432063e9ebf20}{HSDR\_FINISH\_ERROR\_NULL}};\ \}}
\DoxyCodeLine{00339\ \ \ \ \ \textcolor{keywordflow}{switch}\ (hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a0b57aa10271a66f3dc936bba1d2f3830}{state}})\ \{}
\DoxyCodeLine{00340\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493ccadbcd2f80476e973cd4ea0f5f7767e242}{HSDS\_TAG\_BIT}}:}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a6524630aeb3b7cf00b99031b59102f7a}{input\_size}}\ ==\ 0\ ?\ \mbox{\hyperlink{heatshrink__decoder_8h_a053a01631612e6c96c669e0431f996cea092a572b5836b314cc20dee824869cae}{HSDR\_FINISH\_DONE}}\ :\ \mbox{\hyperlink{heatshrink__decoder_8h_a053a01631612e6c96c669e0431f996cea4f329b4632e284f817a4d5017c843955}{HSDR\_FINISH\_MORE}};}
\DoxyCodeLine{00342\ }
\DoxyCodeLine{00343\ \ \ \ \ \textcolor{comment}{/*\ If\ we\ want\ to\ finish\ with\ no\ input,\ but\ are\ in\ these\ states,\ it's}}
\DoxyCodeLine{00344\ \textcolor{comment}{\ \ \ \ \ *\ because\ the\ 0-\/bit\ padding\ to\ the\ last\ byte\ looks\ like\ a\ backref}}
\DoxyCodeLine{00345\ \textcolor{comment}{\ \ \ \ \ *\ marker\ bit\ followed\ by\ all\ 0s\ for\ index\ and\ count\ bits.\ */}}
\DoxyCodeLine{00346\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca40355fcc2f506253c8f7e1786f59d225}{HSDS\_BACKREF\_INDEX\_LSB}}:}
\DoxyCodeLine{00347\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca5eff05d0f6159da52ac540b48f9f9671}{HSDS\_BACKREF\_INDEX\_MSB}}:}
\DoxyCodeLine{00348\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca12cbaebe48f454688440cc51efefb500}{HSDS\_BACKREF\_COUNT\_LSB}}:}
\DoxyCodeLine{00349\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca023ca0cc2106d2374e5cab5a63a67bbb}{HSDS\_BACKREF\_COUNT\_MSB}}:}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a6524630aeb3b7cf00b99031b59102f7a}{input\_size}}\ ==\ 0\ ?\ \mbox{\hyperlink{heatshrink__decoder_8h_a053a01631612e6c96c669e0431f996cea092a572b5836b314cc20dee824869cae}{HSDR\_FINISH\_DONE}}\ :\ \mbox{\hyperlink{heatshrink__decoder_8h_a053a01631612e6c96c669e0431f996cea4f329b4632e284f817a4d5017c843955}{HSDR\_FINISH\_MORE}};}
\DoxyCodeLine{00351\ }
\DoxyCodeLine{00352\ \ \ \ \ \textcolor{comment}{/*\ If\ the\ output\ stream\ is\ padded\ with\ 0xFFs\ (possibly\ due\ to\ being\ in}}
\DoxyCodeLine{00353\ \textcolor{comment}{\ \ \ \ \ *\ flash\ memory),\ also\ explicitly\ check\ the\ input\ size\ rather\ than}}
\DoxyCodeLine{00354\ \textcolor{comment}{\ \ \ \ \ *\ uselessly\ returning\ MORE\ but\ yielding\ 0\ bytes\ when\ polling.\ */}}
\DoxyCodeLine{00355\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca63b15dbacdc5d7b9d0841980620f470c}{HSDS\_YIELD\_LITERAL}}:}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a6524630aeb3b7cf00b99031b59102f7a}{input\_size}}\ ==\ 0\ ?\ \mbox{\hyperlink{heatshrink__decoder_8h_a053a01631612e6c96c669e0431f996cea092a572b5836b314cc20dee824869cae}{HSDR\_FINISH\_DONE}}\ :\ \mbox{\hyperlink{heatshrink__decoder_8h_a053a01631612e6c96c669e0431f996cea4f329b4632e284f817a4d5017c843955}{HSDR\_FINISH\_MORE}};}
\DoxyCodeLine{00357\ }
\DoxyCodeLine{00358\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{heatshrink__decoder_8h_a053a01631612e6c96c669e0431f996cea4f329b4632e284f817a4d5017c843955}{HSDR\_FINISH\_MORE}};}
\DoxyCodeLine{00360\ \ \ \ \ \}}
\DoxyCodeLine{00361\ \}}

\end{DoxyCode}
\Hypertarget{heatshrink__decoder_8c_a38406b03b9df8b993c6a3fa144675627}\label{heatshrink__decoder_8c_a38406b03b9df8b993c6a3fa144675627} 
\index{heatshrink\_decoder.c@{heatshrink\_decoder.c}!heatshrink\_decoder\_poll@{heatshrink\_decoder\_poll}}
\index{heatshrink\_decoder\_poll@{heatshrink\_decoder\_poll}!heatshrink\_decoder.c@{heatshrink\_decoder.c}}
\doxysubsubsection{\texorpdfstring{heatshrink\_decoder\_poll()}{heatshrink\_decoder\_poll()}}
{\footnotesize\ttfamily \mbox{\hyperlink{heatshrink__decoder_8h_abd574439da270fe6682c4011a8e4a27a}{HSD\+\_\+poll\+\_\+res}} heatshrink\+\_\+decoder\+\_\+poll (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structheatshrink__decoder}{heatshrink\+\_\+decoder}} \texorpdfstring{$\ast$}{*}}]{hsd,  }\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{out\+\_\+buf,  }\item[{size\+\_\+t}]{out\+\_\+buf\+\_\+size,  }\item[{size\+\_\+t \texorpdfstring{$\ast$}{*}}]{output\+\_\+size }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{heatshrink__decoder_8c_source_l00135}{135}} of file \mbox{\hyperlink{heatshrink__decoder_8c_source}{heatshrink\+\_\+decoder.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{keywordflow}{if}\ ((hsd\ ==\ NULL)\ ||\ (out\_buf\ ==\ NULL)\ ||\ (output\_size\ ==\ NULL))\ \{}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{heatshrink__decoder_8h_abd574439da270fe6682c4011a8e4a27aad6aaf70030927b97298dc51f3c462edd}{HSDR\_POLL\_ERROR\_NULL}};}
\DoxyCodeLine{00139\ \ \ \ \ \}}
\DoxyCodeLine{00140\ \ \ \ \ *output\_size\ =\ 0;}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \ \ \mbox{\hyperlink{structoutput__info}{output\_info}}\ oi;}
\DoxyCodeLine{00143\ \ \ \ \ oi.\mbox{\hyperlink{structoutput__info_a2c5f4ef732286b78e31ec8d1cb238215}{buf}}\ =\ out\_buf;}
\DoxyCodeLine{00144\ \ \ \ \ oi.\mbox{\hyperlink{structoutput__info_ae6563dde7454192031694b48405393d7}{buf\_size}}\ =\ out\_buf\_size;}
\DoxyCodeLine{00145\ \ \ \ \ oi.\mbox{\hyperlink{structoutput__info_acd32e0968fb2c45b8ab18c1480c03d3e}{output\_size}}\ =\ output\_size;}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keywordflow}{while}\ (1)\ \{}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{heatshrink__decoder_8c_a3577749fb48d57a158b8ac1a0b3ab57e}{LOG}}(\textcolor{stringliteral}{"{}-\/-\/\ poll,\ state\ is\ \%d\ (\%s),\ input\_size\ \%d\(\backslash\)n"{}},}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \ \ \ \ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a0b57aa10271a66f3dc936bba1d2f3830}{state}},\ state\_names[hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a0b57aa10271a66f3dc936bba1d2f3830}{state}}],\ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a6524630aeb3b7cf00b99031b59102f7a}{input\_size}});}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ uint8\_t\ in\_state\ =\ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a0b57aa10271a66f3dc936bba1d2f3830}{state}};}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (in\_state)\ \{}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493ccadbcd2f80476e973cd4ea0f5f7767e242}{HSDS\_TAG\_BIT}}:}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a0b57aa10271a66f3dc936bba1d2f3830}{state}}\ =\ st\_tag\_bit(hsd);}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca63b15dbacdc5d7b9d0841980620f470c}{HSDS\_YIELD\_LITERAL}}:}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a0b57aa10271a66f3dc936bba1d2f3830}{state}}\ =\ st\_yield\_literal(hsd,\ \&oi);}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca5eff05d0f6159da52ac540b48f9f9671}{HSDS\_BACKREF\_INDEX\_MSB}}:}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a0b57aa10271a66f3dc936bba1d2f3830}{state}}\ =\ st\_backref\_index\_msb(hsd);}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca40355fcc2f506253c8f7e1786f59d225}{HSDS\_BACKREF\_INDEX\_LSB}}:}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \ \ \ \ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a0b57aa10271a66f3dc936bba1d2f3830}{state}}\ =\ st\_backref\_index\_lsb(hsd);}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca023ca0cc2106d2374e5cab5a63a67bbb}{HSDS\_BACKREF\_COUNT\_MSB}}:}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a0b57aa10271a66f3dc936bba1d2f3830}{state}}\ =\ st\_backref\_count\_msb(hsd);}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca12cbaebe48f454688440cc51efefb500}{HSDS\_BACKREF\_COUNT\_LSB}}:}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a0b57aa10271a66f3dc936bba1d2f3830}{state}}\ =\ st\_backref\_count\_lsb(hsd);}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493cca4ce396d0b6d9c969249aa9df840d9eaf}{HSDS\_YIELD\_BACKREF}}:}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a0b57aa10271a66f3dc936bba1d2f3830}{state}}\ =\ st\_yield\_backref(hsd,\ \&oi);}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{heatshrink__decoder_8h_abd574439da270fe6682c4011a8e4a27aaeb2610f1216851a5464d5ae1201d2191}{HSDR\_POLL\_ERROR\_UNKNOWN}};}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ If\ the\ current\ state\ cannot\ advance,\ check\ if\ input\ or\ output}}
\DoxyCodeLine{00178\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ *\ buffer\ are\ exhausted.\ */}}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a0b57aa10271a66f3dc936bba1d2f3830}{state}}\ ==\ in\_state)\ \{}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*output\_size\ ==\ out\_buf\_size)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{heatshrink__decoder_8h_abd574439da270fe6682c4011a8e4a27aa1f2aa0e4daf0877e05c6ce1dc70de044}{HSDR\_POLL\_MORE}};\ \}}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{heatshrink__decoder_8h_abd574439da270fe6682c4011a8e4a27aa8c6c36540f31619cd4693e3c9f00d931}{HSDR\_POLL\_EMPTY}};}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00183\ \ \ \ \ \}}
\DoxyCodeLine{00184\ \}}

\end{DoxyCode}
\Hypertarget{heatshrink__decoder_8c_a66f048d07fb882fce420541f3efe67d1}\label{heatshrink__decoder_8c_a66f048d07fb882fce420541f3efe67d1} 
\index{heatshrink\_decoder.c@{heatshrink\_decoder.c}!heatshrink\_decoder\_reset@{heatshrink\_decoder\_reset}}
\index{heatshrink\_decoder\_reset@{heatshrink\_decoder\_reset}!heatshrink\_decoder.c@{heatshrink\_decoder.c}}
\doxysubsubsection{\texorpdfstring{heatshrink\_decoder\_reset()}{heatshrink\_decoder\_reset()}}
{\footnotesize\ttfamily void heatshrink\+\_\+decoder\+\_\+reset (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structheatshrink__decoder}{heatshrink\+\_\+decoder}} \texorpdfstring{$\ast$}{*}}]{hsd }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{heatshrink__decoder_8c_source_l00080}{80}} of file \mbox{\hyperlink{heatshrink__decoder_8c_source}{heatshrink\+\_\+decoder.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ buf\_sz\ =\ 1\ <<\ \mbox{\hyperlink{heatshrink__decoder_8h_a632b12c05ff21980d815d6c2141b9047}{HEATSHRINK\_DECODER\_WINDOW\_BITS}}(hsd);}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ input\_sz\ =\ \mbox{\hyperlink{heatshrink__decoder_8h_afe99397936d8e49763c78ce30edac021}{HEATSHRINK\_DECODER\_INPUT\_BUFFER\_SIZE}}(hsd);}
\DoxyCodeLine{00083\ \ \ \ \ memset(hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a8335d5675808c1ef56ff5a442511624f}{buffers}},\ 0,\ buf\_sz\ +\ input\_sz);}
\DoxyCodeLine{00084\ \ \ \ \ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a0b57aa10271a66f3dc936bba1d2f3830}{state}}\ =\ \mbox{\hyperlink{heatshrink__decoder_8c_a9a56e5d0055ef03ff5eb49fbe8e493ccadbcd2f80476e973cd4ea0f5f7767e242}{HSDS\_TAG\_BIT}};}
\DoxyCodeLine{00085\ \ \ \ \ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a6524630aeb3b7cf00b99031b59102f7a}{input\_size}}\ =\ 0;}
\DoxyCodeLine{00086\ \ \ \ \ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a36ce6cdc96dce790b947f5dee76ac21d}{input\_index}}\ =\ 0;}
\DoxyCodeLine{00087\ \ \ \ \ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_afa7b67d76c91de3551f4561b7d974331}{bit\_index}}\ =\ 0x00;}
\DoxyCodeLine{00088\ \ \ \ \ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a65b988e1163cc65c6d3e5562fbc36a98}{current\_byte}}\ =\ 0x00;}
\DoxyCodeLine{00089\ \ \ \ \ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_ab993b1ac0b6900c4acfbf3ae8fac28e9}{output\_count}}\ =\ 0;}
\DoxyCodeLine{00090\ \ \ \ \ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a894cb1dd2c8dab6ee5d8e165370fa0a7}{output\_index}}\ =\ 0;}
\DoxyCodeLine{00091\ \ \ \ \ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_ad62724fd9a0775c35d5a1005e64691a8}{head\_index}}\ =\ 0;}
\DoxyCodeLine{00092\ \}}

\end{DoxyCode}
\Hypertarget{heatshrink__decoder_8c_a7c918c86f737484d646de78f0b5116e2}\label{heatshrink__decoder_8c_a7c918c86f737484d646de78f0b5116e2} 
\index{heatshrink\_decoder.c@{heatshrink\_decoder.c}!heatshrink\_decoder\_sink@{heatshrink\_decoder\_sink}}
\index{heatshrink\_decoder\_sink@{heatshrink\_decoder\_sink}!heatshrink\_decoder.c@{heatshrink\_decoder.c}}
\doxysubsubsection{\texorpdfstring{heatshrink\_decoder\_sink()}{heatshrink\_decoder\_sink()}}
{\footnotesize\ttfamily \mbox{\hyperlink{heatshrink__decoder_8h_a2033fd60c913bbd5493f38529f4c5eeb}{HSD\+\_\+sink\+\_\+res}} heatshrink\+\_\+decoder\+\_\+sink (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structheatshrink__decoder}{heatshrink\+\_\+decoder}} \texorpdfstring{$\ast$}{*}}]{hsd,  }\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{in\+\_\+buf,  }\item[{size\+\_\+t}]{size,  }\item[{size\+\_\+t \texorpdfstring{$\ast$}{*}}]{input\+\_\+size }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{heatshrink__decoder_8c_source_l00095}{95}} of file \mbox{\hyperlink{heatshrink__decoder_8c_source}{heatshrink\+\_\+decoder.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordflow}{if}\ ((hsd\ ==\ NULL)\ ||\ (in\_buf\ ==\ NULL)\ ||\ (input\_size\ ==\ NULL))\ \{}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{heatshrink__decoder_8h_a2033fd60c913bbd5493f38529f4c5eeba4896bd2b7b48033627ab1d7530d1843a}{HSDR\_SINK\_ERROR\_NULL}};}
\DoxyCodeLine{00099\ \ \ \ \ \}}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ rem\ =\ \mbox{\hyperlink{heatshrink__decoder_8h_afe99397936d8e49763c78ce30edac021}{HEATSHRINK\_DECODER\_INPUT\_BUFFER\_SIZE}}(hsd)\ -\/\ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a6524630aeb3b7cf00b99031b59102f7a}{input\_size}};}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordflow}{if}\ (rem\ ==\ 0)\ \{}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ *input\_size\ =\ 0;}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{heatshrink__decoder_8h_a2033fd60c913bbd5493f38529f4c5eebae68dbf5ea2ab0f19bf73c289c99fa375}{HSDR\_SINK\_FULL}};}
\DoxyCodeLine{00105\ \ \ \ \ \}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ size\ =\ rem\ <\ size\ ?\ rem\ :\ size;}
\DoxyCodeLine{00108\ \ \ \ \ \mbox{\hyperlink{heatshrink__decoder_8c_a3577749fb48d57a158b8ac1a0b3ab57e}{LOG}}(\textcolor{stringliteral}{"{}-\/-\/\ sinking\ \%zd\ bytes\(\backslash\)n"{}},\ size);}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{comment}{/*\ copy\ into\ input\ buffer\ (at\ head\ of\ buffers)\ */}}
\DoxyCodeLine{00110\ \ \ \ \ memcpy(\&hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a8335d5675808c1ef56ff5a442511624f}{buffers}}[hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a6524630aeb3b7cf00b99031b59102f7a}{input\_size}}],\ in\_buf,\ size);}
\DoxyCodeLine{00111\ \ \ \ \ hsd-\/>\mbox{\hyperlink{structheatshrink__decoder_a6524630aeb3b7cf00b99031b59102f7a}{input\_size}}\ +=\ size;}
\DoxyCodeLine{00112\ \ \ \ \ *input\_size\ =\ size;}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{heatshrink__decoder_8h_a2033fd60c913bbd5493f38529f4c5eeba589952f8375ea03d19d4c89033656b22}{HSDR\_SINK\_OK}};}
\DoxyCodeLine{00114\ \}}

\end{DoxyCode}
